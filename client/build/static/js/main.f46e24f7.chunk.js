(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{33:function(e,t,n){},34:function(e,t,n){},63:function(e,t,n){"use strict";n.r(t);var o=n(0),c=n(1),i=n(26),a=n.n(i),s=(n(33),n(34),n(12)),r=n(2),l=n(9);var u=function(e){return Object(o.jsxs)(o.Fragment,{children:[console.log("BookDisplay rendered"),Object(o.jsxs)("div",{className:"single-book-display","data-id":e.data.id,children:[e.data.imageLinks.thumbnail&&Object(o.jsx)("img",{className:"book-image",src:e.data.imageLinks.thumbnail}),Object(o.jsx)("div",{className:"book-title",children:e.data.title}),Object(o.jsx)("div",{className:"book-author",children:e.data.authors}),Object(o.jsx)("div",{className:"book-description",children:e.data.description}),Object(o.jsx)("a",{className:"book-link",href:e.data.infoLink,target:"_blank",children:"Learn More Here"})]})]})},d=n(10),b=n.n(d);n(51).config();var j=function(e){return b.a.get("https://www.googleapis.com/books/v1/volumes?q=".concat(e,"+intitle"))},h=function(e){return b.a.get("https://www.googleapis.com/books/v1/volumes?q=".concat(e,"+inauthor"))},f=function(e){return b.a.post("/api/books",e)},O=function(e){return b.a.get("https://www.googleapis.com/books/v1/volumes/".concat(e))},m=function(){return b.a.get("/api/books")},v=function(e){return b.a.delete("/api/books/".concat(e))};var g=function(){var e=Object(c.useRef)(),t=Object(c.useRef)(),n=Object(c.useState)([]),i=Object(l.a)(n,2),a=i[0],s=i[1],r=function(e){e.preventDefault(),console.log(e.target.childNodes[0].dataset.id);var t=e.target.childNodes[0].dataset.id;O(t).then((function(e){console.log(e);var t=e.data,n=t.id,o=t.volumeInfo,c=Object(l.a)(o.authors,1)[0],i=o.description,a=o.imageLinks,s=o.infoLink,r=o.subtitle,u={id:n,title:o.title,author:c,description:i,imageLinks:a,infoLink:s,subtitle:r};console.log(u),f(u)}))};return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsxs)("div",{className:"search-container",children:[Object(o.jsx)("h4",{children:"Book Search"}),Object(o.jsxs)("form",{onSubmit:function(n){n.preventDefault(),"Title"===t.current.value?j(e.current.value).then((function(e){var t=[];console.log(e),e.data.items.map((function(e){var n=e.id,o=e.volumeInfo,c=Object(l.a)(o.authors,1)[0],i=o.description,a=o.imageLinks,s=o.infoLink,r=o.subtitle,u=o.title;t.push({id:n,author:c,description:i,imageLinks:a,infoLink:s,subtitle:r,title:u})})),console.log(t),s(t)})).catch((function(e){return console.log(e)})):h(e.current.value).then((function(e){var t=[];e.data.items.map((function(e){var n=e.id,o=e.volumeInfo,c=Object(l.a)(o.authors,1)[0],i=o.description,a=o.imageLinks,s=o.infoLink,r=o.subtitle,u=o.title;t.push({id:n,author:c,description:i,imageLinks:a,infoLink:s,subtitle:r,title:u})})),console.log(t),s(t)})).catch((function(e){return console.log(e)}))},children:[Object(o.jsx)("input",{name:"searchContent",ref:e}),Object(o.jsx)("br",{}),Object(o.jsx)("label",{for:"searchMethod",children:"Search by:"}),Object(o.jsxs)("select",{name:"searchMethod",id:"searchMethod",ref:t,children:[Object(o.jsx)("option",{value:"Title",children:"Title"}),Object(o.jsx)("option",{value:"Author",children:"Author"})]}),Object(o.jsx)("button",{type:"submit",children:"Search"})]})]}),Object(o.jsx)("div",{className:"books-container",children:a&&a.map((function(e){return Object(o.jsxs)("form",{onSubmit:r,children:[Object(o.jsx)(u,{data:e}),Object(o.jsx)("button",{type:"submit",children:"Save"})]})}))})]})};var x=function(){var e=Object(c.useState)([]),t=Object(l.a)(e,2),n=t[0],i=t[1];Object(c.useEffect)((function(){m().then((function(e){console.log(e.data),i(e.data)}))}),[]);var a=function(e){e.preventDefault(),console.log("buttons pressed");var t=e.target.childNodes[0].dataset.id;console.log("trying to delete ".concat(t)),v(t)};return Object(o.jsxs)("div",{className:"books-container",children:[Object(o.jsx)("h4",{children:"Saved Books"}),console.log(n),n&&n.map((function(e){return Object(o.jsxs)("form",{onSubmit:a,children:[Object(o.jsx)(u,{data:e}),Object(o.jsx)("button",{type:"submit",children:"Delete"})]})}))]})};var p=function(){return Object(o.jsxs)("nav",{children:[Object(o.jsx)(s.b,{to:"/",children:"Search"}),Object(o.jsx)(s.b,{to:"/saved",children:"Saved Books"})]})};var k=function(){return Object(o.jsxs)("div",{children:[Object(o.jsx)("h1",{children:"Google Book Finder"}),Object(o.jsx)("h3",{children:"Search for books and save for later."})]})};var L=function(){return Object(o.jsxs)(s.a,{children:[Object(o.jsx)(p,{}),Object(o.jsx)(k,{}),Object(o.jsxs)(r.c,{children:[Object(o.jsx)(r.a,{exact:!0,path:"/",children:Object(o.jsx)(g,{})}),Object(o.jsx)(r.a,{exact:!0,path:"/saved",children:Object(o.jsx)(x,{})})]})]})},S=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,64)).then((function(t){var n=t.getCLS,o=t.getFID,c=t.getFCP,i=t.getLCP,a=t.getTTFB;n(e),o(e),c(e),i(e),a(e)}))};a.a.render(Object(o.jsx)(L,{}),document.getElementById("root")),S()}},[[63,1,2]]]);
//# sourceMappingURL=main.f46e24f7.chunk.js.map